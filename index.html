<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="/styles.css" />
        <title>Parempi Hyppykeli</title>
        <script type="module">
            import { redirectToDz } from "/src/landing-page.js";
            redirectToDz();
        </script>
    </head>
    <body>
        <div class="content">
            <h1>Hyppykeli</h1>

            <div class="dz-list" style="display: none">
                <p>
                    <a href="/dz/?fmisid=137208&icaocode=EFJY">EFJY</a>
                </p>

                <p>
                    <a href="/dz/?fmisid=101191&icaocode=EFUT">EFUT</a>
                </p>

                <p>
                    <a href="/dz/?fmisid=101044&icaocode=EFPO">EFPO</a>
                </p>

                <p>
                    <a href="/dz/?fmisid=101237&icaocode=EFLP">EFLP</a>
                </p>

                <p>
                    <a href="/dz/?fmisid=101570&icaocode=EFKU">EFKU</a>
                </p>

                <p>
                    <a href="/dz/?fmisid=101786&icaocode=EFOU">EFOU</a>
                </p>

                <p>
                    <a href="/dz/?fmisid=101065&icaocode=EFTU">EFTU</a>
                </p>

                <p>
                    <a
                        href="/dz/?fmisid=101291&lat=61.780727&lon=22.718886&name=EFJM"
                    >
                        EFJM
                    </a>
                </p>

                <p>
                    <a
                        href="/dz/?fmisid=101310&lat=62.5551416&lon=23.571403&name=EFAL"
                    >
                        EFAL
                    </a>
                </p>

                <p>
                    <a href="/dz/?fmisid=101840&icaocode=EFKE">EFKE</a>
                </p>

                <p>
                    <a href="/dz/?fmisid=101462&icaocode=EFVA">EFVA</a>
                </p>

                <p>
                    <a
                        href="/dz/?fmisid=104796&icaocode=EFLA&lat=61.146406&lon=25.693366&flyk_metar=1"
                    >
                        EFLA
                    </a>
                </p>

                <p>
                    <a
                        href="/dz/?icaocode=EFHK&fmisid=100968&name=Meripuisto&lat=60.155125&lon=24.945773"
                    >
                        Meripuisto
                    </a>
                </p>
            </div>
            <script>
                (() => {
                    const dzList = document.querySelector(".dz-list");
                    const children = Array.from(dzList.children);
                    children.sort((a, b) =>
                        a.textContent.localeCompare(b.textContent),
                    );
                    dzList.innerHTML = "";
                    for (const child of children) {
                        dzList.appendChild(child);
                    }
                    dzList.style.display = "block";
                })();
            </script>

            <p>
                Vähän vielä rakenteilla. Koodit
                <a href="https://github.com/esamattis/parempi.hyppykeli.fi">
                    täällä
                </a>
                jos on halua osallistua talkoisiin.
            </p>

            <h2>Luo droppis</h2>

            <form action="/dz">
                <style>
                    @scope {
                        label {
                            display: flex;
                            font-weight: bold;
                        }
                        label > span {
                            width: 200px;
                            display: flex;
                        }
                        input[type="text"] {
                            display: flex;
                            width: 20ch;
                            padding: 2px;
                        }

                        label small {
                            font-weight: normal;
                            font-size: 75%;
                        }
                    }
                </style>

                <fieldset>
                    <label>
                        <span>Nimi</span>
                        <input type="text" name="name" placeholder="My DZ" />
                    </label>

                    <label>
                        <span>FMISID</span>
                        <input type="text" name="fmisid" placeholder="123445" />
                    </label>

                    <label>
                        <span>ICAO</span>
                        <input type="text" name="icaocode" placeholder="EFXY" />
                    </label>

                    <label>
                        <span>Flyk.com METAR</span>
                        <input type="checkbox" name="flyk_metar" value="1" />
                        <small>
                            Osa METAR-sanomista ei löydy Ilmatieteenlaitoksen
                            rajapinnoista.
                        </small>
                    </label>
                </fieldset>

                <fieldset>
                    <legend>Ennusteen koordinaatit</legend>
                    <label>
                        <span>Lattitude</span>
                        <input type="text" name="lat" placeholder="lat" />
                    </label>

                    <label>
                        <span>Longitude</span>
                        <input type="text" name="lon" placeholder="lon" />
                    </label>

                    <br />

                    <small>
                        Ei pakollinen. Käytetään havaintoaseman sijaintia jos ei
                        annettu.
                    </small>
                </fieldset>

                <input type="hidden" name="save" value="1" />

                <button style="margin-top: 10px">Luo</button>
            </form>

            <p>
                Hae havaintoaseman FMISID
                <a href="https://www.ilmatieteenlaitos.fi/havaintoasemat">
                    täältä
                </a>
                .
                <i>ICAO</i>
                on nelikirjaminen lentokentän tunnus (esim. EFUT). Tallenna
                luotu linkki vaikka bookmarkkeihin. Voit myös lähettää
                <a
                    class="ext"
                    href="https://github.com/esamattis/parempi.hyppykeli.fi/blob/main/index.html"
                >
                    Githubin PR
                </a>
                :llä lisättäväksi ylempänä olevaan listaan.
            </p>

            <p>
                Ylläpito by
                <a href="https://esamatti.fi">Esa-Matti Suuronen</a>
            </p>
        </div>
    </body>
</html>
